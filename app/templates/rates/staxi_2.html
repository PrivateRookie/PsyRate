{% extends "formlayout.html" %}

{% from "macroes.html" import render_table_question, render_meta_data %}

{% block form %}
<div class="container-fluid">
    <h2>{{ survey['title'] }}</h2>
    <p>{{ survey['description'] }}</p>
    <form method="post" action="{{ url_for(route) }}">
        <h3>Part 1</h3>
        <p>{{ survey['part_1']['description'] }}</p>
        <table class="table">
            <tr>
                {% for col in survey['part_1']['cols'] %}
                <td><strong>{{ col }}<strong></td>
                {% endfor %}
            </tr>
            {% for question in survey['part_1']['questions'] %}
            {{ render_table_question(question) }}
            {% endfor %} 
        </table>
        <hr>
        <h3>Part 2</h3>
        <p>{{ survey['part_2']['description'] }}</p>
        <table class="table">
            <tr>
                {% for col in survey['part_2']['cols'] %}
                <td><strong>{{ col }}<strong></td>
                {% endfor %}
            </tr>
            {% for question in survey['part_2']['questions'] %}
            {{ render_table_question(question) }}
            {% endfor %}
        </table>
        <hr>
        <h3>Part 3</h3>
        <p>{{ survey['part_3']['description'] }}</p>
        <table class="table">
            <tr>
                {% for col in survey['part_3']['cols'] %}
                <td><strong>{{ col }}<strong></td>
                {% endfor %}
            </tr>
            {% for question in survey['part_3']['questions'] %}
            {{ render_table_question(question) }}
            {% endfor %}
        </table>
        {{ render_meta_data(form_name, status, report_type) }}
        <button class="btn btn-primary" type="submit">提交</button>
    </form>
</div>
{% endblock form %}