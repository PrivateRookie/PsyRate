{% extends "formlayout.html" %}
{% from "macroes.html" import render_meta_data %}

{% block form %}
<div class="container-fluid row">
    <h1 class="text-center">随访窗</h1>
    <br>
    <form class="form-horizontal" method="post" action="{{ url_for(route) }}">
        <div class="form-group">
            <label class="control-label col-md-2">随访窗</label>
            <div class="controls col-md-6">
                <select class="form-control" name="q_1">
                    {% for val in ['v1', 'v2', 'v3', 'v4', 'v5', 'v6', 'v7', 'v8'] %}
                    {% if val == survey['questions'][0]['default'] %}
                    <option value="{{ val }}" selected>{{ val }}</option>
                    {% else %}
                    <option value="{{ val }}">{{ val }}</option>
                    {% endif %}
                    {% endfor %}
                </select>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-2">随访日期</label>
            <div class="contorls col-md-6">
                <input type="date" class="form-control" name="q_2" value="{{ survey['questions'][1]['default'] }}">
            </div>
        </div>
        <div class="form-group">
                <label class="control-label col-md-2">随访方式</label>
                <div class="col-md-6">
                <div class="radio">
                    <label>
                        {% if survey['questions'][2]['default'] == 1 %}
                        <input type="radio" name="q_3" value="1" checked>医院随访
                        {% else %}
                        <input type="radio" name="q_3" value="1">医院随访
                        {% endif %}
                    </label>
                </div>
                <div class="radio">
                    <label>
                        {% if survey['questions'][2]['default'] == 2 %}
                        <input type="radio" name="q_3" value="2" checked>家访
                        {% else %}
                        <input type="radio" name="q_3" value="2">家访
                        {% endif %}
                    </label>
                </div>
                <div class="radio">
                    <label>
                        {% if survey['questions'][2]['default'] == 3 %}
                        <input type="radio" name="q_3" value="3" checked>电话随访
                        {% else %}
                        <input type="radio" name="q_3" value="3">电话随访
                        {% endif %}
                    </label>
                </div>
                </div>
        </div>
        {% if report_type == 'other_report' %}
        <div class="form-group">
                <label class="control-label col-md-2">血样是否留取</label>
                <div class="col-md-6">
                <div class="radio">
                    <label>
                        {% if survey['questions'][3]['default'] == 1 %}
                        <input type="radio" name="q_4" value="1" checked>否
                        {% else %}
                        <input type="radio" name="q_4" value="1">否
                        {% endif %}
                    </label>
                </div>
                <div class="radio">
                    <label>
                        {% if survey['questions'][3]['default'] == 2 %}
                        <input type="radio" name="q_4" value="2" checked>是
                        {% else %}
                        <input type="radio" name="q_4" value="2">是
                        {% endif %}
                    </label>
                </div>
                </div>
        </div>
        <div class="form-group">
                <label class="control-lable col-md-2">如是, 留取时间</label>
                <div class="col-md-6">
                    <input class="form-control" type="date" name="q_5" value="{{ survey['questions'][4]['default'] }}">
                </div>
        </div>
         <div class="form-group">
                <label class="control-lable col-md-2">血样编号</label>
                <div class="col-md-6">
                    <input class="form-control" name="q_6" value="{{ survey['questions'][5]['default'] }}">
                </div>
        </div>
        <div class="form-group">
                <label class="control-label col-md-2">血样种类</label>
                <div class="col-md-6">
                <div class="radio">
                    <label>
                        <input type="radio" name="q_7" value="1" {% if survey['questions'][6]['default'] == 1 %}checked{% endif %}>血清
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" name="q_7" value="2" {% if survey['questions'][6]['default'] == 2 %}checked{% endif %}>血浆
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" name="q_7" value="3" {% if survey['questions'][6]['default'] == 3 %}checked{% endif %}>DNA
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" name="q_7" value="4" {% if survey['questions'][6]['default'] == 4 %}checked{% endif %}>RNA
                    </label>
                </div>
                </div>
        </div>
        {% endif %}
        {{ render_meta_data(form_name, status, report_type) }}
        <button type="submit" class="btn btn-primary">提交</button>
    </form>
</div>
{% endblock form %}    